(()=>{var e={};e.id=970,e.ids=[970],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},38939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>l}),r(44672),r(11506),r(35866);var a=r(23191),s=r(88716),i=r(37922),o=r.n(i),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["estudiante",{children:["boleto-estudiantil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,44672)),"C:\\DISCOD\\PROYECTOS\\SYSACAD_UI\\sysacad_ui\\app\\estudiante\\boleto-estudiantil\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"C:\\DISCOD\\PROYECTOS\\SYSACAD_UI\\sysacad_ui\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\DISCOD\\PROYECTOS\\SYSACAD_UI\\sysacad_ui\\app\\estudiante\\boleto-estudiantil\\page.tsx"],x="/estudiante/boleto-estudiantil/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/estudiante/boleto-estudiantil/page",pathname:"/estudiante/boleto-estudiantil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},29727:(e,t,r)=>{Promise.resolve().then(r.bind(r,49715)),Promise.resolve().then(r.bind(r,40501))},49715:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var a=r(10326),s=r(17577),i=r(18341),o=r(79040),n=r(94464),d=r(57975),l=r(69325);let c=async(e,t)=>{try{return(await n.Z.get(`${d.Q}/api/v1/consultaSUBE?student_legajo=${e}&idVista=${t}`,{headers:{Authorization:`${(0,l.B)()}`}})).data.registros}catch(e){throw Error(e.response.data.statussalida)}},x=async(e,t,r,a)=>{try{return(await n.Z.post(`${d.Q}/api/v1/autorizarSUBE`,{tid:e,student_legajo:t,link_Sube:r,Inicio_tramite_sube:a},{headers:{Authorization:`${(0,l.B)()}`}})).data.registros}catch(e){throw Error(e.response.data.statussalida)}},u=async(e,t,r,a)=>{try{return await n.Z.post("/proxy-boleto",{student_id:e,student_id_type:t,student_name:r,student_last_name:a})}catch(e){throw console.error("Error en postObtenerEnlaceSube:",e),Error(e.response?.data?.error||e.message)}},m=e=>"TRAMITE_EXPIRADO"===e||"TRAMITE_EXPIRADOS"===e,p=()=>{let e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear(),s=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return`${t}/${r}/${a} ${s}:${i}:${o}`},b=()=>{let{user:e}=(0,i.a)(),[t,r]=(0,s.useState)(!1),[n,d]=(0,s.useState)(!1),[b,h]=(0,s.useState)(""),[g,j]=(0,s.useState)(0),[f,k]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[S,N]=(0,s.useState)(""),[v,E]=(0,s.useState)(""),[_,T]=(0,s.useState)(""),A=async e=>{let t,a,s,i;d(!0);let o=async(e,r)=>{let i,o,n="";if(e.status>=200&&e.status<300){let d=JSON.parse(e.data);if(201===(i=d.status)){t=d.data["redirect-url"],a=d.data.tid,0===Number(d.data.in_progress)?s="Tramite pendiente de finalizacion":(s="Tramite finalizado",t="");let e=p(),i=t;await x(a,r,i,e)}else 400===i?n="Error de validaci\xf3n de datos":403===i?n="Error de credenciales":409===i?(a=o,t="",s="Tramite finalizado, ya posee un beneficio asignado"):423===i?n="Error: La persona tiene un beneficio pero deshabilitado.":439===i?n="Error: La IP desde la cual se env\xeda el request no est\xe1 autorizada.":500===i&&(n="Error interno del sistema, reintente en unos minutos")}else n=500===e.status?"Error interno del sistema, reintente en unos minutos":"Server returned: "+i;h(n)},n=e.currentUser.legajo,b=await c(n,"3135987");j(Number(b?.length??0));let g=0,f=0;if(i=0,b.length){let e;let n=b[b.length-1],c=n.student_legajo,x=n.student_id,p=n.student_id_type,h=n.nombre_alumno,j=n.id_facultad,y=n.link_sube,S=n.inicio_tramite_sube,v=n.tid,_=n.respuesta_sube,A=h.split(", "),C=S&&""!==S,P=new Date().getTime(),q=C?new Date(S).getTime():0,I=C?Math.floor((P-q)/1e3):0;""===v?i=0:0===I&&m(_)?i=0:I<1200&&""!==v?i=1:I>=1200&&""!==v&&(i=2),1===p?e=0:5===p?e=1:3===p?e=19:4===p?e=18:6===p?e=90:f=1,g=(0,l.K)(j)?0:1,"OK"!==_&&0===g?0===i?(""===_||m(_))&&o(await u(x,e,A[1],A[0]),c):1===i?(a=v,t=y,s="Tramite pendiente de finalizacion"):2===i&&m(_)?o(await u(x,e,A[1],A[0]),c):2!==i||m(_)||""===_||(a=v,t="",s="Tramite incompleto, contactese con el administrador del sistema"):"OK"===_&&0===g&&(a=v,t="",s="Tramite finalizado, beneficio otorgado"),N(s),E(a),T(t),d(!1),r(!0),k(1===g),w(1===f);return}d(!1)};return((0,s.useEffect)(()=>{(async()=>{if(e?.currentUser?.legajo&&!t)try{await A(e)}catch(e){console.error("Error:",e),h("Error al obtener la informaci\xf3n del boleto estudiantil"),d(!1)}})()},[e,t]),n)?a.jsx(o.Z,{mensaje:"Cargando informaci\xf3n del boleto estudiantil"}):(0,a.jsxs)("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1",children:[a.jsx("div",{className:"flex justify-between pb-4",children:a.jsx("div",{className:"w-100 relative"})}),(0,a.jsxs)("div",{className:"max-w-full overflow-x-auto",children:[(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-2 text-center dark:bg-meta-4",children:(0,a.jsxs)("th",{colSpan:3,className:"py-4 px-4 font-medium text-black dark:text-white",children:["Estado de tr\xe1mite del boleto estudiantil ",e?.currentUser?.nombre&&"de "+e?.currentUser?.nombre]})})}),a.jsx("tbody",{children:""!==b?a.jsx("tr",{children:a.jsx("td",{className:"text-center text-sm border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:b})}):0===g?a.jsx("tr",{className:"textoTabla",children:a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:"Error: Alumno no regular, no puede iniciar el tramite. Regularice su situaci\xf3n"})}):f||y?!f&&y?a.jsx("tr",{className:"textoTabla",children:a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:"Tipo de documento invalido, por favor contactese con la secretaria academica de la facultad para actualizar su documento"})}):f&&!y?a.jsx("tr",{className:"textoTabla",children:a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:"Facultad no permitida para realizar el tramite"})}):(0,a.jsxs)("tr",{className:"textoTabla",children:[a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:"Facultad no permitida para realizar el tramite"}),a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:"Tipo de documento invalido, por favor contactese con la secretaria academica de la facultad para actualizar su documento"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("tr",{className:"textoTabla bg-gray-2 text-left dark:bg-meta-4",children:[a.jsx("th",{className:"text-center py-4 px-4 font-medium text-black dark:text-white",children:"Estado"}),a.jsx("th",{className:"text-center py-4 px-4 font-medium text-black dark:text-white",children:"N\xba Tr\xe1mite"}),a.jsx("th",{className:"text-center py-4 px-4 font-medium text-black dark:text-white",children:"Link"})]}),(0,a.jsxs)("tr",{className:"textoTabla",children:[a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:S}),a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:v}),_&&""!==_?a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:a.jsx("a",{href:_,className:"text-white bg-black hover:bg-primary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center",children:"Link_Formulario_Solicitud"})}):a.jsx("td",{className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:"-"})]}),_&&""!==_?a.jsx("tr",{className:"textoTabla",children:a.jsx("td",{colSpan:3,className:"text-center sm:max-w-[100px] lg:min-w-[250px] border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Recuerde que para completar este formulario tiene ",a.jsx("b",{children:"20"})," minutos "]}),(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["El formulario le va a solicitar ",a.jsx("b",{children:"datos personales"})," y el ",a.jsx("b",{children:"CUIL"})]}),(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Tenga a mano su n\xfamero de tarjeta ",a.jsx("b",{children:"SUBE"})," asociada a su documento "]}),(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Solo va a poder seleccionar hasta un",a.jsx("i",{children:(0,a.jsxs)("b",{children:[" m\xe1ximo de ",a.jsx("u",{children:"4"})," l\xedneas"]})})," de transporte "]}),a.jsx("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:a.jsx("b",{children:"Nota importante:"})}),(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["El tr\xe1mite tiene una fecha de cierre del ",a.jsx("b",{children:"17"})," de cada mes"]}),(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Luego de la fecha de cierre y de haber finalizado el tr\xe1mite, la acreditaci\xf3n puede demorar ",(0,a.jsxs)("b",{children:[" hasta ",a.jsx("u",{children:"10"})," d\xedas h\xe1biles"]})]}),(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Posterior a el d\xeda ",a.jsx("b",{children:"17"}),", el tramite se har\xe1 efectivo luego del 17 del ",a.jsx("b",{children:a.jsx("i",{children:"pr\xf3ximo mes"})})]})]})})}):null]})})]}),(0,a.jsxs)("div",{className:"flex justify-between px-6 pt-5 pb-5 border-t border-stroke",children:[a.jsx("div",{className:"flex"}),a.jsx("p",{className:"font-medium"})]})]})]})}},44672:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>n});var a=r(19510),s=r(92843),i=r(96266);let o=(0,r(68570).createProxy)(String.raw`C:\DISCOD\PROYECTOS\SYSACAD_UI\sysacad_ui\components\Tables\boletoEspecialEducativo.tsx#default`),n={title:"SYSACAD | Boleto Especial Educativo",description:"Sistema de Autogesti\xf3n Acad\xe9mica | SYSACAD | UTN",icons:{icon:"/images/utn.ico"}},d=()=>a.jsx(a.Fragment,{children:(0,a.jsxs)(i.Z,{children:[a.jsx(s.Z,{pageSection:"Boleto Especial Educativo",pageName:"Tr\xe1mite de Boleto Especial Educativo"}),a.jsx("div",{className:"flex flex-col gap-10",children:a.jsx(o,{})})]})})},18201:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});class a extends Error{}function s(e,t){let r;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");t||(t={});let s=!0===t.header?0:1,i=e.split(".")[s];if("string"!=typeof i)throw new a(`Invalid token specified: missing part #${s+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(i)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${s+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new a(`Invalid token specified: invalid json for part #${s+1} (${e.message})`)}}a.prototype.name="InvalidTokenError"}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,326,162,853,753,152,11],()=>r(38939));module.exports=a})();
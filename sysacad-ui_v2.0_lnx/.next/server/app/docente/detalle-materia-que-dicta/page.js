(()=>{var e={};e.id=870,e.ids=[870],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},57426:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(23767),r(11506),r(35866);var t=r(23191),s=r(88716),i=r(37922),o=r.n(i),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(a,d);let l=["",{children:["docente",{children:["detalle-materia-que-dicta",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,23767)),"C:\\DISCOD\\PROYECTOS\\SYSACAD_UI\\sysacad_ui\\app\\docente\\detalle-materia-que-dicta\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"C:\\DISCOD\\PROYECTOS\\SYSACAD_UI\\sysacad_ui\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\DISCOD\\PROYECTOS\\SYSACAD_UI\\sysacad_ui\\app\\docente\\detalle-materia-que-dicta\\page.tsx"],u="/docente/detalle-materia-que-dicta/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/docente/detalle-materia-que-dicta/page",pathname:"/docente/detalle-materia-que-dicta",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37732:(e,a,r)=>{Promise.resolve().then(r.bind(r,99943)),Promise.resolve().then(r.bind(r,40501))},71202:(e,a,r)=>{"use strict";r.d(a,{B:()=>t});let t=()=>({})},55076:(e,a,r)=>{"use strict";r.d(a,{OD:()=>n,rQ:()=>d,s$:()=>o});var t=r(94464),s=r(57975),i=r(69325);let o=async e=>{let a=(0,i.B)();try{return(await t.Z.post(`${s.Q}/api/v1/legacy600`,{legajo:e},{headers:{Authorization:`${a}`}})).data.registros}catch(e){throw Error(e.response.data.statussalida)}},n=async e=>{let a=(0,i.B)();try{return(await t.Z.post(`${s.Q}/api/v1/legacy102`,e,{headers:{Authorization:`${a}`}})).data}catch(e){throw Error(e.response.data.statussalida)}},d=async e=>{let a=(0,i.B)();try{return(await t.Z.post(`${s.Q}/api/v1/legacy106`,e,{headers:{Authorization:`${a}`}})).data}catch(e){throw Error(e.response.data.statussalida)}}},52396:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});var t=r(10326);r(17577);let s=({column:e})=>{let{filterValue:a,setFilter:r}=e;return t.jsx("div",{className:"w-full mt-2.5  ",children:t.jsx("input",{type:"text",value:a||"",onChange:e=>r(e.target.value),onClick:e=>e.stopPropagation(),className:"w-full px-3 py-1 border border-stroke focus:border-primary outline-none rounded-md "})})}},99943:(e,a,r)=>{"use strict";r.d(a,{default:()=>b});var t=r(10326),s=r(17577),i=r(31205),o=r(52396),n=r(55076),d=r(79040),l=r(18341),c=r(35047),u=r(71202);let m=[{Header:"Legajo",accessor:"estudianteLegajo"},{Header:"Estudiante",accessor:"estudiante"}],p=[{Header:"Legajo",accessor:"estudianteLegajo"},{Header:"Estudiante",accessor:"estudiante"},{Header:"P1",accessor:"P1"},{Header:"P2",accessor:"P2"},{Header:"P3",accessor:"P3"},{Header:"P4",accessor:"P4"},{Header:"P5",accessor:"P5"},{Header:"P6",accessor:"P6"},{Header:"R1",accessor:"R1"},{Header:"R2",accessor:"R2"},{Header:"R3",accessor:"R3"},{Header:"R4",accessor:"R4"},{Header:"R5",accessor:"R5"},{Header:"R6",accessor:"R6"},{Header:"Final",accessor:"final"},{Header:"Cond.",accessor:"estadoacademico"}],b=()=>{let{user:e}=(0,l.a)(),a=(0,c.useSearchParams)(),[r,b]=(0,s.useState)([]),[x,g]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),[y,j]=(0,s.useState)([]),[k,v]=(0,s.useState)(""),[P,N]=(0,s.useState)({indices:[],verificada:""}),[C,w]=(0,s.useState)(null),S=Number(a.get("plan")),A=Number(a.get("materia")),q=Number(a.get("anoacademico")),_=a.get("materiaNombre"),H=Number(a.get("comision")),R=Number(a.get("especialidad")),E=e=>{let a=Object.keys(e).filter(a=>a.includes("abrev")&&e[a]).map(a=>{let r=a.split("abrev")[1];return{columna:e[a],indexTo:`nota${r}`,ref:e[`nota${r}`]}});return a.push({columna:"Nota Final",indexTo:"notafinal",ref:"notafinal"},{columna:"Regularidad",indexTo:"estadoacademico",ref:"estadoacademico"},{columna:"Asistencia",indexTo:"estadoasistencia",ref:"estadoasistencia"}),{indices:a,verificada:e.verificada}},O=(e,a)=>{let{indices:r}=E(a),t=r.map(e=>e.indexTo);return e.forEach(e=>{Object.keys(e).forEach(a=>{a.includes("nota")&&!t.includes(a)&&delete e[a]})}),e},D=async e=>{g(!0);let a=await (0,n.OD)({legajo:e.currentUser.legajo,especialidad:R,plan:S,materia:A,anoacademico:q,comision:H});b(O(a.registros,a.parametro3[0])||[]),N(E(a.parametro3[0])),v(a.parametro3[0].checksum),g(!1)};(0,s.useEffect)(()=>{x||!e||h||(D(e),f(!0))},[e,x,h,D]);let T=(0,s.useMemo)(()=>({Filter:o.Z}),[]),$=e=>[...m,...e?.indices?.map(e=>({Header:e.columna,accessor:e.columna}))||[]],G=(0,s.useMemo)(()=>Array.isArray(r)?r:[],[r]),I=(0,s.useMemo)(()=>Array.isArray(P.indices)?$(P):p,[P]),{getTableProps:M,getTableBodyProps:Y,headerGroups:Z,page:B,prepareRow:L}=(0,i.useTable)({data:G,columns:I,defaultColumn:T},i.useFilters,i.useGlobalFilter,i.useSortBy,i.usePagination),F=e=>{C?w({editable:!C?.editable,...e}):w({editable:!0,...e})},U=(a,r,t)=>{let s;let i=[...y],o=i.map(e=>e?.legajoAlumno).indexOf(a?.legajo);-1!==o&&i.splice(o,1),s="estadoacademico"===t?52:"notafinal"===t?51:Number(t.split("nota")[1]),r&&i.push({legajoAlumno:a?.legajo,nota:Number(r),legajo:e.currentUser.legajo,especialidad:R,plan:S,materia:A,anoacademico:q,comision:H,tiponota:s}),j(i)},Q=e=>{let{NEXT_PUBLIC_EDICION_LIBRES_ABANDONOS:a}=(0,u.B)();return console.log("Valor edicion_libres: ",a),!0===a||"Libre"!==e&&"Abandon\xf3"!==e},z=(e,a)=>{if(!Q(a.estadoasistencia)||!(e===C?.indexTo&&C?.editable))return a[e];{let r=r=>U(a,r.target.value,e),s=a[e]||0;return"estadoacademico"===e?J(r,s):t.jsx("input",{onChange:r,max:"10",type:"number",className:"w-16 rounded-lg border-[1.5px] border-primary bg-transparent px-2 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-white dark:bg-form-input dark:text-white",defaultValue:s})}},V=()=>{w(null),j([])},X=async()=>{await (0,n.rQ)({vector:y}),V(),await D(e)};if(x)return t.jsx(d.Z,{mensaje:"Cargando informaci\xf3n"});let J=(e,a)=>(0,t.jsxs)("select",{onChange:e,defaultValue:{"":0,Abandono:-1,"No curso":-2,Libre:1,Regular:2,Promocionado:3,"Ap. Directa":4}[a],children:[t.jsx("option",{value:"0"}),t.jsx("option",{value:"-1",children:"Abandono"}),t.jsx("option",{value:"-2",children:"No curso"}),t.jsx("option",{value:"1",children:"Libre"}),t.jsx("option",{value:"2",children:"Regular"}),t.jsx("option",{value:"3",children:"Promocionado"}),t.jsx("option",{value:"4",children:"Ap. Directa"})]});return(0,t.jsxs)("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1",children:[(0,t.jsxs)("div",{className:"my-6",children:[(0,t.jsxs)("p",{children:["Estudiantes cursando: ",_]}),(0,t.jsxs)("p",{children:["Comision ",H," en a\xf1o ",q]})]}),t.jsx("div",{className:"my-6",children:P?.indices?.map((e,a)=>("notafinal"===e.indexTo||"estadoacademico"===e.indexTo)&&"N"!==P.verificada||"estadoasistencia"===e.indexTo?null:t.jsx("button",{onClick:()=>F(e),className:"text-white bg-black hover:bg-primary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:e.columna},`${e.columna}-${a}`))}),k&&(0,t.jsxs)("div",{className:"flex justify-start my-6",children:["C\xf3digo de validaci\xf3n: ",k]}),C?.editable&&(0,t.jsxs)("div",{className:"flex justify-end my-6",children:[t.jsx("button",{onClick:()=>X(),disabled:!C?.editable,className:"text-white bg-black hover:bg-primary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Guardar cambios"}),t.jsx("button",{onClick:()=>V(),disabled:!C?.editable,className:"text-white bg-black hover:bg-primary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Cancelar"})]}),t.jsx("div",{className:"max-w-full overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full table-auto",...M(),children:[t.jsx("thead",{children:Z.map((e,a)=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:`headerGroup-${a}`},e.headers.map(e=>(0,s.createElement)("th",{...e.getHeaderProps(e.getSortByToggleProps()),key:`column-${e.id}`,className:"py-4 px-4 font-medium text-black dark:text-white"},e.render("Header")))))}),t.jsx("tbody",{...Y(),children:r.map((e,a)=>(0,t.jsxs)("tr",{children:[t.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.legajo}),t.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.nombre}),Object.keys(e).filter(e=>e.includes("nota")||e.includes("estadoacademico")).map(a=>t.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:z(a,e)},a)),t.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.estadoasistencia})]},a))})]})}),C?.editable&&(0,t.jsxs)("div",{className:"flex justify-end my-6",children:[t.jsx("button",{onClick:()=>X(),disabled:!C?.editable,className:"text-white bg-black hover:bg-primary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Guardar cambios"}),t.jsx("button",{onClick:()=>V(),disabled:!C?.editable,className:"text-white bg-black hover:bg-primary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Cancelar"})]})]})}},23767:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n});var t=r(19510),s=r(92843);let i=(0,r(68570).createProxy)(String.raw`C:\DISCOD\PROYECTOS\SYSACAD_UI\sysacad_ui\components\Tables\detalleMateriaDictada.tsx#default`);var o=r(96266);let n=()=>t.jsx(t.Fragment,{children:(0,t.jsxs)(o.Z,{children:[t.jsx(s.Z,{pageSection:"Detalle Materia",pageName:""}),t.jsx("div",{className:"flex flex-col gap-10",children:t.jsx(i,{})})]})})}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[276,326,162,853,753,868,152,11],()=>r(57426));module.exports=t})();